# üß™ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É —Ä–∞—Å—Å—ã–ª–∫–∏ –≤ DEV —Ä–µ–∂–∏–º–µ

## üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢ (5 –º–∏–Ω—É—Ç)

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
cd /Users/stas/tg_soprovod
source venv/bin/activate
export ENVIRONMENT=development
```

### 2. –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
```bash
# –£–±–µ–¥–∏—Å—å —á—Ç–æ –≤ .env.dev –µ—Å—Ç—å dev —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
grep TELEGRAM_BOT_TOKEN .env.dev
```

### 3. –ó–∞–ø—É—Å–∫ TEST MODE (–±–µ–∑–æ–ø–∞—Å–Ω–æ)
```bash
python broadcast_update_dev.py
# –í—ã–±–µ—Ä–∏: 1 (TEST MODE)
# Telegram ID: [—Ç–≤–æ–π ID –∏–ª–∏ Enter]
# –ü–æ–¥—Ç–≤–µ—Ä–¥–∏: yes
```

### 4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```bash
# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏:
tail -f broadcast_dev.log
```

**‚úÖ –ì–æ—Ç–æ–≤–æ!** TEST MODE —Ç–æ–ª—å–∫–æ —ç–º—É–ª–∏—Ä—É–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫—É, –Ω–∏–∫–æ–º—É –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–∏–¥–µ—Ç.

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ —Ä–∞—Å—Å—ã–ª–∫–∏ –ª–æ–∫–∞–ª—å–Ω–æ

### üìã –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

1. **–£–±–µ–¥–∏—Å—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å dev –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤ .env.dev –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   cat .env.dev | grep TELEGRAM_BOT_TOKEN
   cat .env.dev | grep ENVIRONMENT
   ```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   ```bash
   export ENVIRONMENT=development
   ```

3. **–ê–∫—Ç–∏–≤–∏—Ä—É–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
   ```bash
   source venv/bin/activate
   ```

### üöÄ –ó–∞–ø—É—Å–∫ –≤ TEST MODE (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**TEST MODE** - –ø–æ–ª–Ω–æ—Å—Ç—å—é –±–µ–∑–æ–ø–∞—Å–µ–Ω, —Ç–æ–ª—å–∫–æ —ç–º—É–ª—è—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏:

```bash
python broadcast_update_dev.py
```

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ:
1. –í—ã–±–µ—Ä–∏ —Ä–µ–∂–∏–º `1` (TEST MODE)
2. –í–≤–µ–¥–∏ —Å–≤–æ–π Telegram ID –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏ –∑–∞–ø—É—Å–∫

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ TEST MODE:**
- ‚úÖ –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –±–æ—Ç—É
- ‚úÖ –ß–∏—Ç–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ –ë–î
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- ‚ùå –ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ –õ–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –≤ `broadcast_dev.log`

### ‚ö†Ô∏è –ó–∞–ø—É—Å–∫ –≤ REAL MODE (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)

**REAL MODE** - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ:

```bash
python broadcast_update_dev.py
```

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ:
1. –í—ã–±–µ—Ä–∏ —Ä–µ–∂–∏–º `2` (REAL MODE)
2. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏ —á—Ç–æ –ø–æ–Ω–∏–º–∞–µ—à—å —Ä–∏—Å–∫–∏
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏ –∑–∞–ø—É—Å–∫

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ REAL MODE:**
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç—Å—è –¥–æ 5 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –º–∞–∫—Å–∏–º—É–º
- ‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ –°–æ–æ–±—â–µ–Ω–∏—è –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ `[DEV TEST]`
- ‚úÖ –õ–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ –≤ `broadcast_dev.log`

### üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**–õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:**
```bash
tail -f broadcast_dev.log
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:**
```bash
grep "–°–¢–ê–¢–ò–°–¢–ò–ö–ê" broadcast_dev.log
```

### üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**–ó–∞—â–∏—Ç–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –≤ dev –≤–µ—Ä—Å–∏–∏:**
- üîí –ú–∞–∫—Å–∏–º—É–º 5 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ REAL MODE
- üîí –ü–æ–º–µ—Ç–∫–∞ `[DEV TEST]` –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
- üîí –û—Ç–¥–µ–ª—å–Ω—ã–π –ª–æ–≥ —Ñ–∞–π–ª `broadcast_dev.log`
- üîí –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ
- üîí TEST MODE –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### üìä –£–∑–Ω–∞—Ç—å —Å–≤–æ–π Telegram ID

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω—É–∂–µ–Ω —Ç–≤–æ–π Telegram ID:

1. **–ß–µ—Ä–µ–∑ –±–æ—Ç–∞ @userinfobot:**
   - –û—Ç–ø—Ä–∞–≤—å `/start` –±–æ—Ç—É @userinfobot
   - –ü–æ–ª—É—á–∏—à—å —Å–≤–æ–π ID

2. **–ß–µ—Ä–µ–∑ dev –±–æ—Ç–∞:**
   ```bash
   python -c "
   import asyncio
   from config import TELEGRAM_BOT_TOKEN
   from telegram import Bot
   
   async def get_me():
       bot = Bot(TELEGRAM_BOT_TOKEN)
       async with bot:
           updates = await bot.get_updates()
           if updates:
               print(f'–ü–æ—Å–ª–µ–¥–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {updates[-1].effective_user.id}')
           else:
               print('–ù–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π, –æ—Ç–ø—Ä–∞–≤—å —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É')
   
   asyncio.run(get_me())
   "
   ```

### üîß –û—Ç–ª–∞–¥–∫–∞

**–ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ –±–æ—Ç—É:**
```bash
python -c "
import asyncio
from config import TELEGRAM_BOT_TOKEN
from telegram import Bot

async def test_bot():
    bot = Bot(TELEGRAM_BOT_TOKEN)
    async with bot:
        me = await bot.get_me()
        print(f'–ë–æ—Ç: @{me.username}')

asyncio.run(test_bot())
"
```

**–ü—Ä–æ–±–ª–µ–º—ã —Å –ë–î:**
```bash
python -c "
from utils.database import SupabaseClient
client = SupabaseClient.get_client()
if client:
    result = client.table('users').select('count').execute()
    print(f'–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –ë–î: {len(result.data) if result.data else 0}')
else:
    print('–ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Supabase')
"
```

### üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç (—Ç–æ–ª—å–∫–æ —ç–º—É–ª—è—Ü–∏—è):**
```bash
python broadcast_update_dev.py
# –í—ã–±—Ä–∞—Ç—å 1 (TEST MODE)
# Enter (–ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å admin ID)
# yes (–ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å)
```

**–¢–µ—Å—Ç —Å –æ—Ç–ø—Ä–∞–≤–∫–æ–π —Å–µ–±–µ:**
```bash
python broadcast_update_dev.py
# –í—ã–±—Ä–∞—Ç—å 1 (TEST MODE)
# –í–≤–µ—Å—Ç–∏ —Å–≤–æ–π Telegram ID
# yes (–ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å)
```

**–†–µ–∞–ª—å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ 5 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º:**
```bash
python broadcast_update_dev.py
# –í—ã–±—Ä–∞—Ç—å 2 (REAL MODE)
# yes (–ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Ä–∏—Å–∫–∏)
# yes (–ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–ø—É—Å–∫)
```

### ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

- [ ] –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ dev –æ–∫—Ä—É–∂–µ–Ω–∏–µ (`ENVIRONMENT=development`)
- [ ] –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –≤ `.env.dev`
- [ ] –í—ã–±—Ä–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–µ–∂–∏–º (TEST –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
- [ ] –ì–æ—Ç–æ–≤ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ª–æ–≥–∏
- [ ] –ó–Ω–∞–µ—à—å —Å–≤–æ–π Telegram ID (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

### üö® –ß—Ç–æ –ù–ï –¥–µ–ª–∞—Ç—å

- ‚ùå –ù–µ –∑–∞–ø—É—Å–∫–∞–π REAL MODE –±–µ–∑ –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π
- ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π –ø—Ä–æ–¥–∞–∫—à–Ω —Ç–æ–∫–µ–Ω –≤ dev
- ‚ùå –ù–µ –æ—Ç–∫–ª—é—á–∞–π –∑–∞—â–∏—Ç–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã
- ‚ùå –ù–µ –∑–∞–ø—É—Å–∫–∞–π –±–µ–∑ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ª–æ–≥–æ–≤