# üìã –¢–ó v9.5 - Bugfix: User Cohorts Analytics (–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–æ–≤ –≤ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ –∫–æ–≥–æ—Ä—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –ü–†–ê–í–ò–õ–ê –†–ê–ë–û–¢–´ –° –¢–ó
- ‚úÖ **–°–ª–µ–¥–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–≥–æ –ø–æ –¢–ó** –ø—Ä–∏ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –∫–æ–¥–∞
- ‚úÖ **–ú–µ–Ω—è—Ç—å –¢–ó –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –ø—É–Ω–∫—Ç—ã** –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π
- ‚úÖ **–ü–æ—ç—Ç–∞–ø–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤** (–¥–æ 50-100 —Å—Ç—Ä–æ–∫ –∑–∞ —Ä–∞–∑)

---

## üêõ **–û–ü–ò–°–ê–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´**

### –ò—Å—Ö–æ–¥–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è
–í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –≤ VIEW `user_cohorts_basic`:
- **–ü—Ä–æ–±–ª–µ–º–∞ 1:** –î–∞—Ç–∞ –∏–∑ –±—É–¥—É—â–µ–≥–æ `2025-06-01` (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü)
- **–ü—Ä–æ–±–ª–µ–º–∞ 2:** –ù–µ—Ä–µ–∞–ª—å–Ω—ã–µ —Ü–∏—Ñ—Ä—ã: 54 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, 49 premium (–Ω–∞ dev –∫–æ–Ω—Ç—É—Ä–µ)
- **–ü—Ä–æ–±–ª–µ–º–∞ 3:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∫–æ–≥–æ—Ä—Ç –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ü—Ä–æ–±–ª–µ–º–∞ 4:** VIEW –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω –∞–Ω–∞–ª–∏—Ç–∏–∫–∏, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø—Ä–∏—á–∏–Ω–∞
VIEW `user_cohorts_basic` —Å–æ–∑–¥–∞–Ω —Å **–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–æ–π**:
1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ timezone –≤—ã—á–∏—Å–ª–µ–Ω–∏—è** - –±–µ—Ä–µ—Ç –±—É–¥—É—â–∏–µ –¥–∞—Ç—ã
2. **–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏** - —Å—á–∏—Ç–∞–µ—Ç –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏
3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Å—á–µ—Ç premium** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
4. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏** –ø–æ —Ä–µ–∞–ª—å–Ω—ã–º –¥–∞–Ω–Ω—ã–º

---

## üéØ **–¶–ï–õ–¨ –ó–ê–î–ê–ß–ò**
–ò—Å–ø—Ä–∞–≤–∏—Ç—å VIEW `user_cohorts_basic` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∫–æ–≥–æ—Ä—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

## üìä **–°–¢–ê–¢–£–° –í–´–ü–û–õ–ù–ï–ù–ò–Ø**
- ‚è≥ **5.1** –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã VIEW - –í –ü–†–û–¶–ï–°–°–ï
- ‚è≥ **5.2** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –¥–∞—Ç –∏ timezone - –ù–ï –ù–ê–ß–ê–¢–û
- ‚è≥ **5.3** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π - –ù–ï –ù–ê–ß–ê–¢–û
- ‚è≥ **5.4** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥—Å—á–µ—Ç–∞ premium –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π - –ù–ï –ù–ê–ß–ê–¢–û
- ‚è≥ **5.5** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º - –ù–ï –ù–ê–ß–ê–¢–û
- ‚è≥ **5.6** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö - –ù–ï –ù–ê–ß–ê–¢–û

---

## üõ† **–î–ï–¢–ê–õ–¨–ù–´–ô –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò**

### **5.1 –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã VIEW** ‚è≥
**–¢–µ–∫—É—â–∏–µ –ø–æ–ª—è:**
- `cohort_month` - –º–µ—Å—è—Ü –∫–æ–≥–æ—Ä—Ç—ã (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 2025-06-01)
- `acquisition_channel` - –∫–∞–Ω–∞–ª –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è (NULL –¥–ª—è –≤—Å–µ—Ö)
- `cohort_size` - —Ä–∞–∑–º–µ—Ä –∫–æ–≥–æ—Ä—Ç—ã (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: 54 –Ω–∞ dev)
- `activated_users` - –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: 51)
- `premium_users` - premium –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: 49)
- `avg_days_to_first_generation` - —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –¥–æ –ø–µ—Ä–≤–æ–≥–æ –ø–∏—Å—å–º–∞

### **5.2 –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –¥–∞—Ç –∏ timezone** ‚è≥
**–ü—Ä–æ–±–ª–µ–º–∞:**
```sql
-- –¢–µ–∫—É—â–∞—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –±—É–¥—É—â–∏–µ –¥–∞—Ç—ã)
DATE_TRUNC('month', some_wrong_field) 
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```sql
-- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å —É—á–µ—Ç–æ–º timezone
DATE_TRUNC('month', u.created_at AT TIME ZONE 'UTC')::date as cohort_month
WHERE u.created_at >= CURRENT_DATE - INTERVAL '12 months'
  AND u.created_at < DATE_TRUNC('month', CURRENT_DATE) + INTERVAL '1 month'
```

### **5.3 –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** ‚è≥
**–ü—Ä–æ–±–ª–µ–º–∞:** –°—á–∏—Ç–∞–µ—Ç –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞:**
```sql
-- –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–π = —Å–æ–∑–¥–∞–ª —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ –ø–∏—Å—å–º–æ
COUNT(DISTINCT CASE 
  WHEN ls.id IS NOT NULL AND ls.status = 'completed' 
  THEN u.id 
END) as activated_users
```

### **5.4 –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥—Å—á–µ—Ç–∞ premium –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** ‚è≥
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å—á–∏—Ç–∞–µ—Ç premium –ø–æ–¥–ø–∏—Å–∫–∏

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞:**
```sql
-- Premium = –∞–∫—Ç–∏–≤–Ω–∞—è premium –ø–æ–¥–ø–∏—Å–∫–∞
COUNT(DISTINCT CASE 
  WHEN s.plan_type = 'premium' AND s.status = 'active' 
  THEN u.id 
END) as premium_users
```

### **5.5 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º** ‚è≥
**–î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã:**
- –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 12 –º–µ—Å—è—Ü–µ–≤
- –ò—Å–∫–ª—é—á–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –º–µ—Å—è—Ü–∞–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### **5.6 –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ VIEW** ‚è≥
**–ü–æ–ª–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è:**
```sql
DROP VIEW IF EXISTS user_cohorts_basic;

CREATE VIEW user_cohorts_basic AS
SELECT 
    DATE_TRUNC('month', u.created_at AT TIME ZONE 'UTC')::date as cohort_month,
    COALESCE(ac.utm_source, 'direct') as acquisition_channel,
    COUNT(DISTINCT u.id) as cohort_size,
    COUNT(DISTINCT CASE 
        WHEN ls.id IS NOT NULL AND ls.status = 'completed' 
        THEN u.id 
    END) as activated_users,
    COUNT(DISTINCT CASE 
        WHEN s.plan_type = 'premium' AND s.status = 'active' 
        THEN u.id 
    END) as premium_users,
    ROUND(
        AVG(
            CASE 
                WHEN ls.created_at IS NOT NULL 
                THEN EXTRACT(EPOCH FROM (ls.created_at - u.created_at))/86400 
            END
        ), 2
    ) as avg_days_to_first_generation
FROM users u
LEFT JOIN acquisition_channels ac ON u.id = ac.user_id  
LEFT JOIN letter_sessions ls ON u.id = ls.user_id 
    AND ls.status = 'completed'
    AND ls.created_at = (
        SELECT MIN(ls2.created_at) 
        FROM letter_sessions ls2 
        WHERE ls2.user_id = u.id AND ls2.status = 'completed'
    )
LEFT JOIN subscriptions s ON u.id = s.user_id 
    AND s.status = 'active'
WHERE u.created_at >= CURRENT_DATE - INTERVAL '12 months'
    AND u.created_at < DATE_TRUNC('month', CURRENT_DATE) + INTERVAL '1 month'
    -- –ò—Å–∫–ª—é—á–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
    AND u.telegram_user_id NOT IN (SELECT telegram_user_id FROM users WHERE username LIKE '%test%')
GROUP BY 
    DATE_TRUNC('month', u.created_at AT TIME ZONE 'UTC')::date,
    COALESCE(ac.utm_source, 'direct')
HAVING COUNT(DISTINCT u.id) > 0
ORDER BY cohort_month DESC, acquisition_channel;
```

---

## ‚úÖ **–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò (Definition of Done)**

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- ‚úÖ **–ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞—Ç—ã** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –º–µ—Å—è—Ü—ã, –ù–ï –±—É–¥—É—â–∏–µ
- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Å—á–µ—Ç –∫–æ–≥–æ—Ä—Ç** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –º–µ—Å—è—Ü–∞–º —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è** - —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–æ–∑–¥–∞–≤—à–∏–µ –ø–∏—Å—å–º–∞
- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π premium** - —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ premium –ø–æ–¥–ø–∏—Å–∫–∏
- ‚úÖ **–†–µ–∞–ª—å–Ω—ã–µ –∫–∞–Ω–∞–ª—ã –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è** - –ù–ï —Ç–æ–ª—å–∫–æ NULL
- ‚úÖ **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–µ—Ä–∏–æ–¥–∞** - —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 12 –º–µ—Å—è—Ü–µ–≤

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - VIEW –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±—ã—Å—Ç—Ä–æ (< 5 —Å–µ–∫)
- ‚úÖ **Timezone –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å** - –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å UTC
- ‚úÖ **–ò—Å–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö** - –ù–ï –≤–ª–∏—è—é—Ç –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω –∞–Ω–∞–ª–∏—Ç–∏–∫—É
- ‚úÖ **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –¥–∞—à–±–æ—Ä–¥–∞–º–∏

---

## üß™ **–ü–õ–ê–ù –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø**

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
```sql
-- –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –¥–∞—Ç
SELECT cohort_month FROM user_cohorts_basic 
WHERE cohort_month > CURRENT_DATE;
-- –†–µ–∑—É–ª—å—Ç–∞—Ç: –ü–£–°–¢–û–ô (–Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±—É–¥—É—â–∏—Ö –¥–∞—Ç)

-- –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–∫–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
SELECT cohort_month, cohort_size, activated_users 
FROM user_cohorts_basic 
WHERE activated_users > cohort_size;
-- –†–µ–∑—É–ª—å—Ç–∞—Ç: –ü–£–°–¢–û–ô (–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ –∫–æ–≥–æ—Ä—Ç—ã)

-- –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ premium –ª–æ–≥–∏–∫–∏
SELECT cohort_month, cohort_size, premium_users 
FROM user_cohorts_basic 
WHERE premium_users > cohort_size;
-- –†–µ–∑—É–ª—å—Ç–∞—Ç: –ü–£–°–¢–û–ô (premium –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ –∫–æ–≥–æ—Ä—Ç—ã)

-- –¢–µ—Å—Ç 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–Ω–∞–ª–æ–≤ –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è
SELECT DISTINCT acquisition_channel FROM user_cohorts_basic;
-- –†–µ–∑—É–ª—å—Ç–∞—Ç: –ù–ï —Ç–æ–ª—å–∫–æ NULL, –µ—Å—Ç—å 'direct' –∏ –¥—Ä—É–≥–∏–µ –∫–∞–Ω–∞–ª—ã
```

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] **–î–∞—Ç—ã —Ä–µ–∞–ª—å–Ω—ã–µ:** –í—Å–µ cohort_month <= —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü
- [ ] **–¶–∏—Ñ—Ä—ã –∞–¥–µ–∫–≤–∞—Ç–Ω—ã–µ:** –ö–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏
- [ ] **–õ–æ–≥–∏–∫–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:** –¢–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å –ø–∏—Å—å–º–∞–º–∏
- [ ] **Premium –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:** –¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏

---

## üìà **–û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´**

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```
‚ùå user_cohorts_basic:
   cohort_month: 2025-06-01 (–ë–£–î–£–©–ï–ï!)
   cohort_size: 54 (–Ω–µ—Ä–µ–∞–ª—å–Ω–æ –¥–ª—è dev)
   activated_users: 51 (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞)
   premium_users: 49 (—Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ)
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è  
```
‚úÖ user_cohorts_basic:
   cohort_month: 2024-12-01 (—Ä–µ–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞)
   cohort_size: 3 (—Ä–µ–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ)
   activated_users: 2 (—Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–≤—à–∏–µ –ø–∏—Å—å–º–∞)
   premium_users: 0 (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è dev)
```

---

## üö® **–†–ò–°–ö–ò –ò –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø**

### –ú–ò–ù–ò–ú–ê–õ–¨–ù–´–ï —Ä–∏—Å–∫–∏
- ‚úÖ **–¢–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ VIEW** - –ù–ï —Ç—Ä–æ–≥–∞–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
- ‚úÖ **–û—Ç–∫–∞—Ç –∑–∞ 1 –º–∏–Ω—É—Ç—É** - –º–æ–∂–µ–º –±—ã—Å—Ç—Ä–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é
- ‚úÖ **–ù–ï –≤–ª–∏—è–µ—Ç –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** - —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### –°—Ä–µ–¥–Ω–∏–µ —Ä–∏—Å–∫–∏
- ‚ö†Ô∏è **–î–∞—à–±–æ—Ä–¥—ã –º–æ–≥—É—Ç —Å–ª–æ–º–∞—Ç—å—Å—è** - –µ—Å–ª–∏ –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Å—Ç–∞—Ä–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- ‚ö†Ô∏è **–ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** - —Ü–∏—Ñ—Ä—ã –≤ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ –∏–∑–º–µ–Ω—è—Ç—Å—è

### –û—Ç–∫–∞—Ç (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
```sql
-- –ë—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–∞—Ç –∫ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏
DROP VIEW IF EXISTS user_cohorts_basic;
-- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é –∏–∑ –±—ç–∫–∞–ø–∞
```
- –í—Ä–µ–º—è –æ—Ç–∫–∞—Ç–∞: **1 –º–∏–Ω—É—Ç–∞**

---

## üí° **–î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –°–û–û–ë–†–ê–ñ–ï–ù–ò–Ø**

### –ü–æ—á–µ–º—É —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞:** –ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–æ–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–ë—É–¥—É—â–∏–µ –¥–∞—Ç—ã:** –ù–∞—Ä—É—à–∞—é—Ç –ª–æ–≥–∏–∫—É –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏
- **–†–µ–ø—É—Ç–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ä–∏—Å–∫–∏:** –ù–µ—Ç–æ—á–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è —Å—Ç–µ–π–∫—Ö–æ–ª–¥–µ—Ä–æ–≤

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ—Å—Ç—å
- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ SQL –ø—Ä–∞–∫—Ç–∏–∫–∏** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏ –∏ timezone
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ JOIN –∏ —Ñ–∏–ª—å—Ç—Ä—ã
- ‚úÖ **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å** - –ø–æ–Ω—è—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è –±—É–¥—É—â–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

---

## üìù **–°–í–Ø–ó–ê–ù–ù–´–ï –ó–ê–î–ê–ß–ò**

- **–¢–ó v9.4** - Bugfix Subscription Unlimited (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ)
- **–¢–ó v9.1** - Legal Documents (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ)
- **–¢–ó v9.2** - Security Protection (–ù–ï –Ω–∞—á–∞—Ç–æ)
- **–¢–ó v9.3** - Monetization Touchpoints (–ù–ï –Ω–∞—á–∞—Ç–æ)

---

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 2 —á–∞—Å–∞  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† –í–´–°–û–ö–ò–ô (–ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω –∞–Ω–∞–ª–∏—Ç–∏–∫–∏)  
**–¢–∏–ø –∑–∞–¥–∞—á–∏:** Bugfix (–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏) 