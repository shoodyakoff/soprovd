# ü§ñ –°–æ–ø—Ä–æ–≤–æ–¥ v9.10 - AI-powered Cover Letter Generator

[![Python](https://img.shields.io/badge/python-3.9+-blue.svg)](https://www.python.org/downloads/)
[![Telegram Bot API](https://img.shields.io/badge/Telegram%20Bot%20API-Latest-blue.svg)](https://core.telegram.org/bots/api)
[![OpenAI](https://img.shields.io/badge/OpenAI-GPT--4o-green.svg)](https://platform.openai.com/)
[![Claude](https://img.shields.io/badge/Anthropic-Claude--3.5-purple.svg)](https://www.anthropic.com/)
[![Railway](https://img.shields.io/badge/Deployed%20on-Railway-blueviolet.svg)](https://railway.app/)
[![Security](https://img.shields.io/badge/Security-Rate%20Limited-red.svg)](#security)

> **Production-ready AI Telegram bot with monetization, security, and GDPR compliance**

–°–æ–ø—Ä–æ–≤–æ–¥ –ø–æ–º–æ–≥–∞–µ—Ç —Å–æ–∏—Å–∫–∞—Ç–µ–ª—è–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–ø—Ä–æ–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∏—Å—å–º–∞, –∞–Ω–∞–ª–∏–∑–∏—Ä—É—è –≤–∞–∫–∞–Ω—Å–∏—é –∏ —Ä–µ–∑—é–º–µ —Å –ø–æ–º–æ—â—å—é —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö AI –º–æ–¥–µ–ª–µ–π. –í–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–Ω—É—é —Å–∏—Å—Ç–µ–º—É –ø–æ–¥–ø–∏—Å–æ–∫ Free/Premium –∏ –∑–∞—â–∏—Ç—É –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### ‚ú® **AI-–∞–Ω–∞–ª–∏–∑**
- **–£–º–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤–∞–∫–∞–Ω—Å–∏–π** - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∏ –±–æ–ª–µ–≤—ã—Ö —Ç–æ—á–µ–∫ –∫–æ–º–ø–∞–Ω–∏–∏
- **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥ —Ä–µ–∑—é–º–µ** - –ø–æ–∏—Å–∫ —Ç–æ—á–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –Ω–∞–≤—ã–∫–æ–≤ –∏ –æ–ø—ã—Ç–∞
- **–°–∏—Å—Ç–µ–º–∞ –∏—Ç–µ—Ä–∞—Ü–∏–π** - –¥–æ 3 —É–ª—É—á—à–µ–Ω–∏–π –ø–∏—Å—å–º–∞ –ø–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–°—Ç–∏–ª–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è** - –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–æ–Ω —Å —á–µ–ª–æ–≤–µ—á–Ω—ã–º–∏ –Ω–æ—Ç–∫–∞–º–∏

### üöÄ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
- **30-45 —Å–µ–∫—É–Ω–¥** - –≤—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–∏—Å—å–º–∞
- **Dual AI support** - OpenAI GPT-4o + Anthropic Claude 3.5 Sonnet
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **Smart fallbacks** - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

### üí∞ **–ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è**
- **Free –ø–ª–∞–Ω** - 3 –ø–∏—Å—å–º–∞ –≤ –º–µ—Å—è—Ü
- **Premium –ø–ª–∞–Ω** - 20 –ø–∏—Å–µ–º –≤ –¥–µ–Ω—å
- **–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–æ–∫** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞–º–∏
- **–ì–∏–±–∫–∏–µ —Ç–∞—Ä–∏—Ñ—ã** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π

### üîí **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
- **Rate Limiting** - 5 –∫–æ–º–∞–Ω–¥/–º–∏–Ω—É—Ç—É, 3 AI –∑–∞–ø—Ä–æ—Å–∞/5 –º–∏–Ω—É—Ç
- **Input Validation** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ç–µ–∫—Å—Ç–∞ –¥–æ 50KB
- **DoS –∑–∞—â–∏—Ç–∞** - sliding window algorithm
- **Admin –ø–∞–Ω–µ–ª—å** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram

### üìä **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ & Compliance**
- **Real-time –º–µ—Ç—Ä–∏–∫–∏** —á–µ—Ä–µ–∑ Supabase
- **User journey tracking** - –æ—Ç start –¥–æ –≥–æ—Ç–æ–≤–æ–≥–æ –ø–∏—Å—å–º–∞
- **GDPR compliance** - —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ü–î
- **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Telegram      ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ   Python Bot     ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ   AI Services   ‚îÇ
‚îÇ   Users         ‚îÇ    ‚îÇ   (Async)        ‚îÇ    ‚îÇ   GPT-4/Claude  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                       ‚îÇ  Analytics  ‚îÇ
                       ‚îÇ  (Supabase) ‚îÇ
                       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### üõ†Ô∏è **Tech Stack**
- **Backend**: Python 3.9+, python-telegram-bot (async)
- **AI Models**: OpenAI GPT-4o, Anthropic Claude 3.5 Sonnet
- **Database**: Supabase (PostgreSQL) —Å RLS
- **Security**: InMemory Rate Limiter + Input Validation
- **Deployment**: Railway (Docker)
- **Monitoring**: Supabase analytics + custom logging
- **Monetization**: Subscription system —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ª–∏–º–∏—Ç–∞–º–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
```bash
git clone https://github.com/your-repo/tg_soprovod.git
cd tg_soprovod
```

2. **–°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ**
```bash
python -m venv venv
source venv/bin/activate  # –ù–∞ Windows: venv\Scripts\activate
```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
```bash
pip install -r requirements.txt
```

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```bash
cp env.example .env.dev
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env.dev —Ñ–∞–π–ª
```

5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞**
```bash
python run_dev.py
```

### üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ:
```env
TELEGRAM_BOT_TOKEN=your_bot_token
OPENAI_API_KEY=your_openai_key
ANTHROPIC_API_KEY=your_claude_key
```

#### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
```env
SUPABASE_URL=your_supabase_url
SUPABASE_SERVICE_KEY=your_service_key
ANALYTICS_ENABLED=true
```

#### –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–æ–∫:
```env
SUBSCRIPTIONS_ENABLED=true
FREE_LETTERS_LIMIT=3
PREMIUM_LETTERS_LIMIT=20
```

#### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
```env
RATE_LIMITING_ENABLED=true
RATE_LIMIT_COMMANDS_PER_MINUTE=5
RATE_LIMIT_AI_PER_5MIN=3
MAX_TEXT_SIZE_KB=50
ADMIN_TELEGRAM_IDS=your_admin_id1,your_admin_id2
```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ AI:
```env
AI_PROVIDER=openai  # openai –∏–ª–∏ claude
USE_UNIFIED_ANALYSIS=true
```

## üìà –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

1. **–ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞** –≤ Telegram: `@your_bot_name`
2. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ** `/start`
3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ** —Ç–µ–∫—Å—Ç –≤–∞–∫–∞–Ω—Å–∏–∏
4. **–í—Å—Ç–∞–≤—å—Ç–µ** –≤–∞—à–µ —Ä–µ–∑—é–º–µ
5. **–ü–æ–ª—É—á–∏—Ç–µ** –≥–æ—Ç–æ–≤–æ–µ –ø–∏—Å—å–º–æ –∑–∞ 30-45 —Å–µ–∫—É–Ω–¥!

### –ö–æ–º–∞–Ω–¥—ã:
- `/start` - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –ø–∏—Å—å–º–æ
- `/help` - –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é  
- `/about` - –û –±–æ—Ç–µ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö
- `/premium` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Premium –ø–ª–∞–Ω–∞—Ö
- `/support` - –°–≤—è–∑–∞—Ç—å—Å—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
- `/privacy` - –ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏
- `/terms` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ
- `/cancel` - –û—Ç–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- **–°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–æ–∫** - üëç –ù—Ä–∞–≤–∏—Ç—Å—è / üëé –£–ª—É—á—à–∏—Ç—å
- **–ò—Ç–µ—Ä–∞—Ü–∏–∏ –ø–∏—Å–µ–º** - –¥–æ 3 —É–ª—É—á—à–µ–Ω–∏–π –ø–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º
- **–ù–∞–≤–∏–≥–∞—Ü–∏—è** - —É–¥–æ–±–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏
- **–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å** - –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∏—Å–µ–º

## üî¨ AI Prompt Engineering

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏:

```python
# –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–º–ø—Ç v6.0 - 200+ —Å—Ç—Ä–æ–∫ —Ç—â–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏
UNIFIED_ANALYSIS_PROMPT = """
–¢—ã - —ç–∫—Å–ø–µ—Ä—Ç –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —Å–æ–ø—Ä–æ–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∏—Å–µ–º, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—Å—Ç–∞–≤–ª—è—é—Ç 
HR-–º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –∏ –ø–æ–¥—É–º–∞—Ç—å: "–ß–µ—Ä—Ç, —ç—Ç–æ—Ç –∫–∞–Ω–¥–∏–¥–∞—Ç –¢–û–ß–ù–û 
–ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ –Ω–∞–º –Ω—É–∂–Ω–æ"...
"""
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–æ–º–ø—Ç–∞:**
- üìù **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑** - —è–≤–Ω—ã–µ –∏ —Å–∫—Ä—ã—Ç—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –≤–∞–∫–∞–Ω—Å–∏–∏
- üéØ **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è** - –ø–æ–∏—Å–∫ —Ç–æ—á–Ω—ã—Ö –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π –Ω–∞–≤—ã–∫–æ–≤
- üí° **–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã** - –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –∫—É–ª—å—Ç—É—Ä—É –∫–æ–º–ø–∞–Ω–∏–∏
- üìä **–¶–∏—Ñ—Ä—ã –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏–∑ —Ä–µ–∑—é–º–µ

## üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –º–µ—Ç—Ä–∏–∫–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ KPI:
- **Conversion Rate**: Start ‚Üí Generated Letter
- **Generation Time**: –ú–µ–¥–∏–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–∏—Å—å–º–∞  
- **User Retention**: –í–æ–∑–≤—Ä–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **AI Cost per Generation**: –°—Ç–æ–∏–º–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–æ–≤
- **Error Rate**: –ü—Ä–æ—Ü–µ–Ω—Ç –Ω–µ—É–¥–∞—á–Ω—ã—Ö –≥–µ–Ω–µ—Ä–∞—Ü–∏–π

### –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
```sql
users              -- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ Telegram (—Å GDPR –ø–æ–ª—è–º–∏)
letter_sessions     -- –°–µ—Å—Å–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–∏—Å–µ–º (—Å UUID)
letter_iterations   -- –ò—Ç–µ—Ä–∞—Ü–∏–∏ —É–ª—É—á—à–µ–Ω–∏—è –ø–∏—Å–µ–º
subscriptions       -- –ü–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (Free/Premium)
payments           -- –ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
user_events        -- –°–æ–±—ã—Ç–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–¥–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞)
letter_feedback    -- –û—Ü–µ–Ω–∫–∏ –ø–∏—Å–µ–º (–ª–∞–π–∫–∏/–¥–∏–∑–ª–∞–π–∫–∏)
openai_requests    -- –õ–æ–≥–∏ AI –∑–∞–ø—Ä–æ—Å–æ–≤ (—Å –º–µ—Ç—Ä–∏–∫–∞–º–∏)
error_logs         -- –°–∏—Å—Ç–µ–º–Ω—ã–µ –æ—à–∏–±–∫–∏ (—Å stack traces)
acquisition_channels -- UTM —Ç—Ä–µ–∫–∏–Ω–≥ –∏ —Ä–µ—Ñ–µ—Ä—Ä–∞–ª—ã
```

### –§—É–Ω–∫—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
- **RLS (Row Level Security)** - –∑–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —É—Ä–æ–≤–Ω–µ PostgreSQL
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ updated_at –ø–æ–ª–µ–π
- **–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è** - –≥–æ—Ç–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **–ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** - –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ –ø–æ–¥–ø–∏—Å–æ–∫

## üö¢ Production Deployment

–ü—Ä–æ–µ–∫—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è **Railway** deployment:

1. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ** GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∫ Railway
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ** environment variables –≤ Railway dashboard
3. **Deploy** –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ push –≤ main

### Railway Environment Variables:
```
# –û—Å–Ω–æ–≤–Ω—ã–µ
ENVIRONMENT=production
TELEGRAM_BOT_TOKEN=...
OPENAI_API_KEY=...
ANTHROPIC_API_KEY=...

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
SUPABASE_URL=...
SUPABASE_SERVICE_KEY=...
ANALYTICS_ENABLED=true

# –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–æ–∫
SUBSCRIPTIONS_ENABLED=true
FREE_LETTERS_LIMIT=3
PREMIUM_LETTERS_LIMIT=20

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
RATE_LIMITING_ENABLED=true
RATE_LIMIT_COMMANDS_PER_MINUTE=5
RATE_LIMIT_AI_PER_5MIN=3
MAX_TEXT_SIZE_KB=50
ADMIN_TELEGRAM_IDS=123456789,987654321

# AI –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
AI_PROVIDER=openai
USE_UNIFIED_ANALYSIS=true
```

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:
```
tg_soprovod/
‚îú‚îÄ‚îÄ handlers/           # Telegram bot handlers
‚îÇ   ‚îî‚îÄ‚îÄ simple_conversation_v6.py
‚îú‚îÄ‚îÄ services/          # AI services & analytics  
‚îÇ   ‚îú‚îÄ‚îÄ ai_factory.py
‚îÇ   ‚îú‚îÄ‚îÄ openai_service.py
‚îÇ   ‚îú‚îÄ‚îÄ claude_service.py
‚îÇ   ‚îú‚îÄ‚îÄ subscription_service.py
‚îÇ   ‚îî‚îÄ‚îÄ analytics_service.py
‚îú‚îÄ‚îÄ models/            # Data models
‚îÇ   ‚îú‚îÄ‚îÄ subscription_models.py
‚îÇ   ‚îú‚îÄ‚îÄ analytics_models.py
‚îÇ   ‚îî‚îÄ‚îÄ feedback_models.py
‚îú‚îÄ‚îÄ utils/             # Database & utilities
‚îÇ   ‚îú‚îÄ‚îÄ database.py
‚îÇ   ‚îú‚îÄ‚îÄ rate_limiter.py
‚îÇ   ‚îú‚îÄ‚îÄ validators.py
‚îÇ   ‚îî‚îÄ‚îÄ keyboards.py
‚îú‚îÄ‚îÄ docs/              # Documentation
‚îÇ   ‚îú‚îÄ‚îÄ architecture/
‚îÇ   ‚îú‚îÄ‚îÄ legal/
‚îÇ   ‚îî‚îÄ‚îÄ releases/
‚îú‚îÄ‚îÄ migrations/        # Database migrations
‚îú‚îÄ‚îÄ tasks/            # Task specifications
‚îú‚îÄ‚îÄ config.py         # Configuration
‚îú‚îÄ‚îÄ main.py          # Bot entry point
‚îú‚îÄ‚îÄ Dockerfile       # Docker configuration
‚îî‚îÄ‚îÄ requirements.txt # Dependencies
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ–∏—á:

1. **AI —Å–µ—Ä–≤–∏—Å—ã** ‚Üí `services/`
2. **Telegram handlers** ‚Üí `handlers/`
3. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** ‚Üí `models/` + `supabase_schema.sql`
4. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** ‚Üí `config.py`
5. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Üí `utils/rate_limiter.py`, `utils/validators.py`
6. **–ú–∏–≥—Ä–∞—Ü–∏–∏** ‚Üí `migrations/`

## üîí Security

### Rate Limiting
–°–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—Ç—ã –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π:
- **5 –∫–æ–º–∞–Ω–¥ –≤ –º–∏–Ω—É—Ç—É** - –±–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
- **3 AI –∑–∞–ø—Ä–æ—Å–∞ –≤ 5 –º–∏–Ω—É—Ç** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∏—Å–µ–º
- **Sliding window algorithm** - —Ç–æ—á–Ω—ã–π –ø–æ–¥—Å—á–µ—Ç –∑–∞–ø—Ä–æ—Å–æ–≤
- **Admin bypass** - –∞–¥–º–∏–Ω—ã –æ–±—Ö–æ–¥—è—Ç –ª–∏–º–∏—Ç—ã

### Input Validation
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞**: 50KB
- **–°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** - –∑–∞—â–∏—Ç–∞ –æ—Ç –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### Data Protection
- **GDPR compliance** - —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ü–î
- **RLS (Row Level Security)** - –∑–∞—â–∏—Ç–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –±–µ–∑ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## ü§ù Contributing

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## üìÑ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## üÜò Support

- üí¨ **Telegram**: –ö–æ–º–∞–Ω–¥–∞ `/support` –≤ –±–æ—Ç–µ
- üêõ **Issues**: [GitHub Issues](https://github.com/your-repo/tg_soprovod/issues)
- üìã **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [docs/](docs/) –ø–∞–ø–∫–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- üîí **–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏**: –ö–æ–º–∞–Ω–¥–∞ `/privacy` –≤ –±–æ—Ç–µ

## üìà Roadmap

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- **Redis cache** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ AI –æ—Ç–≤–µ—Ç–æ–≤
- **Webhook mode** - –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–ª–∏–∫
- **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** - A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤
- **API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π** - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è roadmap:
- **Auto-scaling** - –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Real-time monitoring** - —Å–∏—Å—Ç–µ–º–∞ –∞–ª–µ—Ä—Ç–æ–≤
- **Data retention policies** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- **Advanced security** - WAF, IP filtering

---

**Made with ‚ù§Ô∏è for job seekers worldwide**  
**v9.10 - Production-ready with security & monetization** 