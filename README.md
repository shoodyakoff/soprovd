# –°–æ–ø—Ä–æ–≤–æ–¥ v4.0 üöÄ

**–£–º–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–æ–ø—Ä–æ–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∏—Å–µ–º –¥–ª—è Telegram**

–¢–µ–∫—É—â–∏–π –±–æ—Ç: [@tvoi_soprovod_bot](https://t.me/tvoi_soprovod_bot)

## üéØ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –±–æ—Ç

–°–æ–ø—Ä–æ–≤–æ–¥ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∞–∫–∞–Ω—Å–∏—é –∏ –≤–∞—à–µ —Ä–µ–∑—é–º–µ, –∞ –∑–∞—Ç–µ–º —Å–æ–∑–¥–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ–ø—Ä–æ–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø–∏—Å—å–º–æ –∑–∞ 30 —Å–µ–∫—É–Ω–¥. –ü—Ä–æ—Å—Ç–æ–π –ø–æ—Ç–æ–∫: –≤–∞–∫–∞–Ω—Å–∏—è ‚Üí —Ä–µ–∑—é–º–µ ‚Üí –≥–æ—Ç–æ–≤–æ–µ –ø–∏—Å—å–º–æ.

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ v4.0

- **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –£–±—Ä–∞–Ω –≤—ã–±–æ—Ä —Ä–µ–∂–∏–º–æ–≤ –∏ —Å—Ç–∏–ª–µ–π - —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —É–º–Ω—ã–π –ø–æ—Ç–æ–∫
- **–°–∫–æ—Ä–æ—Å—Ç—å**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∏—Å—å–º–∞ –∑–∞ 30 —Å–µ–∫—É–Ω–¥
- **–ö–∞—á–µ—Å—Ç–≤–æ**: 3-—ç—Ç–∞–ø–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ GPT –¥–ª—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
- **–£–º–Ω–æ—Å—Ç—å**: –ù–∞—Ö–æ–¥–∏—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –º–µ–∂–¥—É –≤–∞–∫–∞–Ω—Å–∏–µ–π –∏ —Ä–µ–∑—é–º–µ

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
–°–æ–ø—Ä–æ–≤–æ–¥ v4.0
‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îî‚îÄ‚îÄ simple_conversation.py    # –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ openai_service.py        # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI
‚îÇ   ‚îî‚îÄ‚îÄ smart_analyzer.py        # 3-—ç—Ç–∞–ø–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ keyboards.py             # –ö–Ω–æ–ø–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îÇ   ‚îî‚îÄ‚îÄ prompts.py               # –£–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã
‚îú‚îÄ‚îÄ config.py                    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ main.py                      # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
```bash
git clone <repository-url>
cd tg_soprovod
```

2. **–°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate     # Windows
```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
pip install -r requirements.txt
```

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```bash
cp env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª —Å –≤–∞—à–∏–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏
```

5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
```bash
python main.py
```

## üåç –î–µ–ø–ª–æ–π –≤ Production

### Railway Deploy

1. **–°–æ–∑–¥–∞–π—Ç–µ –≤—Ç–æ—Ä–æ–π –±–æ—Ç –≤ BotFather:**
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot` –≤ [@BotFather](https://t.me/BotFather)
   - –ù–∞–∑–æ–≤–∏—Ç–µ: `–°–æ–ø—Ä–æ–≤–æ–¥ Production`
   - Username: `soprovod_prod_bot` (–∏–ª–∏ –ª—é–±–æ–π –¥–æ—Å—Ç—É–ø–Ω—ã–π)

2. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub –∫ Railway:**
   - –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [railway.com](https://railway.com)
   - –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub
   - –í—ã–±–µ—Ä–∏—Ç–µ —ç—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è –¥–µ–ø–ª–æ—è

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Railway:**
   ```
   TELEGRAM_BOT_TOKEN=<prod_bot_token>
   OPENAI_API_KEY=<your_openai_key>
   OPENAI_TIMEOUT=120
   ENVIRONMENT=production
   LOG_LEVEL=INFO
   ```

4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π:**
   - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–µ—Ä–µ—Ç Docker –æ–±—Ä–∞–∑
   - –ö–∞–∂–¥—ã–π push –≤ main –≤–µ—Ç–∫—É = –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

### –î—Ä—É–≥–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –¥–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ –ª—é–±–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Docker:
- **Heroku**: `git push heroku main`
- **DigitalOcean App Platform**: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- **AWS/GCP**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Dockerfile

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# Development
TELEGRAM_BOT_TOKEN=<dev_bot_token>
OPENAI_API_KEY=<your_api_key>
ENVIRONMENT=development

# Production  
TELEGRAM_BOT_TOKEN=<prod_bot_token>
OPENAI_API_KEY=<your_api_key>
ENVIRONMENT=production
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
python test_v4.py

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
python -m py_compile main.py
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- **Development**: –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—å + `bot.log`
- **Production**: –õ–æ–≥–∏ –≤ Railway dashboard

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.11+
- OpenAI API –∫–ª—é—á
- Telegram Bot Token

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **python-telegram-bot** - Telegram Bot API
- **openai** - GPT –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **asyncio** - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å
- **Docker** - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–í production –¥–æ—Å—Ç—É–ø–Ω—ã –º–µ—Ç—Ä–∏–∫–∏:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- –í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–∏—Å–µ–º
- –û—à–∏–±–∫–∏ API
- –õ–æ–≥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Railway dashboard
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ OpenAI API –∫–ª—é—á –∞–∫—Ç–∏–≤–µ–Ω

---

**–°–æ–ø—Ä–æ–≤–æ–¥ v4.0** - –í–∞—à —É–º–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –≤ –ø–æ–∏—Å–∫–µ —Ä–∞–±–æ—Ç—ã! üéØ 